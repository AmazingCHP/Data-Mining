# Homework2 项目文档

## 项目概述

本项目包含了一系列基于商品购买数据的分析脚本，主要目标是：

* 挖掘商品购买行为中的关联规则
* 探索支付方式与商品类别的关系
* 分析商品购买的时序关系

以此帮助更好地理解消费者行为并优化商品推荐策略。

---

## 文件结构

```
Homework2/
├── 子类.py                         # 提供商品大类映射等辅助功能的模块
├── 10G_data_new/                  # 存放部分数据文件的目录
├── 30G_data_new/                  # 存放部分数据文件的目录
├── product_catalog.json           # 商品目录文件
├── 高价值商品支付方式.py         # 分析高价值商品的支付方式分布
├── 高置信度商品类别关联规则.py   # 挖掘高置信度的商品类别关联规则
├── 季度与商品关联.py             # 挖掘季度与商品类别的关联规则
├── 筛选包含电子产品的规则.py     # 筛选包含“电子产品”的高置信度关联规则
├── 商品类别关联规则挖掘.py       # 挖掘商品类别的关联规则
├── 商品时序分析.py               # 分析商品购买的时序关系
├── 退款信息关联规则.py           # 挖掘包含退款信息的关联规则
├── 退款与商品种类分析.py         # 分析退款订单与商品种类的关系
├── 星期与商品关联.py             # 挖掘星期与商品类别的关联规则
├── 月份与商品关联.py             # 挖掘月份与商品类别的关联规则
├── 展示季度与商品类别关联.py     # 可视化季度与商品类别的关联规则
├── 展示商品大类顺序关系.py       # 可视化商品大类的顺序关系
├── 展示星期与商品类别关联.py     # 可视化星期与商品类别的关联规则
├── 展示月份与商品类别关联.py     # 可视化月份与商品类别的关联规则
├── 展示支付方式与商品类别关系.py # 可视化支付方式与商品类别的关系
├── 支付方式与商品类别关联分析.py # 分析支付方式与商品类别的关联
```

---

## 数据依赖

* `product_catalog.json`：商品目录文件，包含商品的 ID、类别等信息。
* `10G_data_new/` 和 `30G_data_new/`：存放购买数据的目录，数据文件为 Parquet 格式，包含购买记录等信息。

---

## 功能模块说明

### 高价值商品支付方式分析

* **文件**：`高价值商品支付方式.py`
* **功能**：统计高价值商品（价格大于 5000）的支付方式分布，并生成横向柱状图展示结果。

### 商品类别关联规则挖掘

* **文件**：`商品类别关联规则挖掘.py`
* **功能**：使用 FP-Growth 算法基于购买数据挖掘商品类别的关联规则，结果保存为 CSV 文件。

### 季度、星期、月份与商品关联分析

* **文件**：

  * `季度与商品关联.py`
  * `星期与商品关联.py`
  * `月份与商品关联.py`
* **功能**：分别挖掘季度、星期、月份与商品类别的关联规则，添加时间信息到事务中，使用 Apriori 算法进行挖掘。

### 筛选特定条件的关联规则

* **文件**：

  * `筛选包含电子产品的规则.py`
  * `退款信息关联规则.py`
* **功能**：筛选包含特定条件（如“电子产品”、“已退款”）的高置信度关联规则，并进行可视化展示。

### 商品购买时序分析

* **文件**：`商品时序分析.py`
* **功能**：分析商品购买顺序关系，统计不同商品大类之间的购买顺序频率，并保存结果。

### 支付方式与商品类别关联分析

* **文件**：`支付方式与商品类别关联分析.py`
* **功能**：分析支付方式与商品类别的关联关系，提取事务特征并使用 Apriori 算法挖掘关联规则。

### 结果可视化

* **文件**：`展示*.py`
* **功能**：可视化挖掘出的关联规则或其他分析结果，生成柱状图等图表。

---

## 使用方法

1. 确保安装了 Python 和必要的依赖库（如 `pandas`、`matplotlib`、`seaborn`、`mlxtend` 等）。
2. 将数据文件（如 `product_catalog.json`、购买数据的 Parquet 文件）放置在指定目录下。
3. 运行对应的 Python 脚本，根据脚本的功能执行相应的数据分析或可视化任务。

---

## 注意事项

* 部分脚本在运行时可能较慢，尤其是处理大数据量时。
* 请确保数据文件格式与内容符合脚本预期，避免运行报错。
* 可根据需求调整脚本中的参数，如抽样比例、最小支持度、置信度阈值等。

---

## 依赖库安装

使用如下命令安装项目所需的依赖库：

```bash
pip install pandas matplotlib seaborn mlxtend tqdm
```

---

## 示例输出

* 各种关联规则的可视化图表（如柱状图、条形图等）
* 挖掘出的频繁项集和关联规则（保存为 CSV 文件）

---

## 项目贡献

欢迎参与项目优化和扩展工作，包括但不限于：

* 提升代码性能
* 添加新的分析功能
* 改善可视化效果

---
